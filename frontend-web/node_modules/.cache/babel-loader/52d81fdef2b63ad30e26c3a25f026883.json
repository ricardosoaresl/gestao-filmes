{"ast":null,"code":"import _slicedToArray from \"C:\\\\Repositorios\\\\gestao-filmes\\\\frontend-web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Repositorios\\\\gestao-filmes\\\\frontend-web\\\\src\\\\views\\\\Amigos\\\\editar.jsx\";\nimport React, { useRef, useState, useEffect } from \"react\";\nimport { toast } from \"react-toastify\";\nimport 'react-toastify/dist/ReactToastify.css';\nimport { ToastContainer } from \"react-toastify\";\nimport { Link } from \"react-router-dom\";\nimport { Row, Col, Form } from \"react-bootstrap\";\nimport * as Yup from \"yup\";\nimport { Formik } from \"formik\";\nimport { Card } from \"components/Card/Card.jsx\";\nimport Button from \"components/CustomButton/CustomButton.jsx\";\nimport BaseCrud from \"../../crud/base.crud\";\nconst schema = Yup.object().shape({\n  Nome: Yup.string().required(\"Campo obrigatório\")\n});\nexport default function Amigos(props, values, handleChange) {\n  const _useState = useState({\n    Id: \"\",\n    Nome: \"\"\n  }),\n        _useState2 = _slicedToArray(_useState, 2),\n        amigo = _useState2[0],\n        setAmigo = _useState2[1];\n\n  useEffect(() => {\n    let id = props.location.pathname.split(\"/\")[3]; // Configurar React Route\n\n    if (id && id.length > 0) {\n      BaseCrud.get(\"amigo/\".concat(id)).then(response => {\n        if (response.data) {\n          setAmigo(response.data);\n        }\n      });\n    }\n  }, []);\n\n  const Guid = () => {\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n      var r = Math.random() * 16 | 0,\n          v = c == 'x' ? r : r & 0x3 | 0x8;\n      return v.toString(16);\n    });\n  };\n\n  const handleSubmit = function (v) {\n    if (amigo.Id) {\n      let changeAmigo = {\n        Id: amigo.Id,\n        Nome: v.Nome\n      };\n      editar(changeAmigo).then(r => {\n        toast.success(\"Operação realizada com sucesso\");\n        setTimeout(() => {\n          props.history.push('/admin/amigos');\n        }, 3000);\n      }).catch(e => {});\n    } else {\n      incluir({\n        Id: Guid(),\n        Nome: v.Nome\n      }).then(r => {\n        toast.success(\"Operação realizada com sucesso\");\n        setTimeout(() => {\n          props.history.push('/admin/amigos');\n        }, 3000);\n      }).catch(e => {});\n    }\n  };\n\n  const editar = async v => BaseCrud.put(\"Amigo\", v.Id, v);\n\n  const incluir = async v => BaseCrud.post(\"Amigo\", v);\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(ToastContainer, {\n    autoClose: 5000,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    title: \"Editar Amigo\",\n    content: /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: e => handleSubmit(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 15\n      }\n    }, amigo && /*#__PURE__*/React.createElement(Formik, {\n      enableReinitialize: true,\n      initialValues: amigo,\n      onSubmit: handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 19\n      }\n    }, ({\n      errors,\n      values,\n      touched,\n      handleChange,\n      handleSubmit\n    }) => /*#__PURE__*/React.createElement(Form, {\n      onSubmit: e => e.preventDefault(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      style: {\n        marginBottom: 10\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 25\n      }\n    }, amigo && amigo.Id && /*#__PURE__*/React.createElement(Col, {\n      md: 3,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 31\n      }\n    }, \"C\\xF3digo\"), /*#__PURE__*/React.createElement(Form.Control, {\n      type: \"text\",\n      name: \"Id\",\n      placeholder: \"C\\xF3digo\",\n      value: values.Id,\n      onChange: handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 31\n      }\n    })), /*#__PURE__*/React.createElement(Col, {\n      md: 3,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 29\n      }\n    }, \"Nome\"), /*#__PURE__*/React.createElement(Form.Control, {\n      type: \"text\",\n      name: \"Nome\",\n      placeholder: \"Nome\",\n      value: values.Nome,\n      onChange: handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(Col, {\n      md: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/admin/amigos\",\n      className: \"btn btn-clean btn-md btn-icon\",\n      title: \"Voltar\",\n      style: {\n        marginRight: 5\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 29\n      }\n    }, \"Voltar\"), /*#__PURE__*/React.createElement(Button, {\n      variant: \"primary\",\n      className: \"ml-2\",\n      onClick: handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 29\n      }\n    }, \"Salvar\")))))),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 11\n    }\n  }))));\n}","map":{"version":3,"sources":["C:/Repositorios/gestao-filmes/frontend-web/src/views/Amigos/editar.jsx"],"names":["React","useRef","useState","useEffect","toast","ToastContainer","Link","Row","Col","Form","Yup","Formik","Card","Button","BaseCrud","schema","object","shape","Nome","string","required","Amigos","props","values","handleChange","Id","amigo","setAmigo","id","location","pathname","split","length","get","then","response","data","Guid","replace","c","r","Math","random","v","toString","handleSubmit","changeAmigo","editar","success","setTimeout","history","push","catch","e","incluir","put","post","errors","touched","preventDefault","marginBottom","marginRight"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,MAAhB,EAAwBC,QAAxB,EAAkCC,SAAlC,QAAmD,OAAnD;AACA,SAASC,KAAT,QAAsB,gBAAtB;AACA,OAAO,uCAAP;AACA,SAASC,cAAT,QAA+B,gBAA/B;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,SACEC,GADF,EAEEC,GAFF,EAGEC,IAHF,QAIO,iBAJP;AAKA,OAAO,KAAKC,GAAZ,MAAqB,KAArB;AACA,SAASC,MAAT,QAAuB,QAAvB;AAEA,SAASC,IAAT,QAAqB,0BAArB;AACA,OAAOC,MAAP,MAAmB,0CAAnB;AAEA,OAAOC,QAAP,MAAqB,sBAArB;AAEA,MAAMC,MAAM,GAAGL,GAAG,CAACM,MAAJ,GAAaC,KAAb,CAAmB;AAChCC,EAAAA,IAAI,EAAER,GAAG,CAACS,MAAJ,GAAaC,QAAb,CAAsB,mBAAtB;AAD0B,CAAnB,CAAf;AAIA,eAAe,SAASC,MAAT,CAAgBC,KAAhB,EAAuBC,MAAvB,EAA+BC,YAA/B,EAA6C;AAAA,oBAEhCtB,QAAQ,CAAC;AACjCuB,IAAAA,EAAE,EAAE,EAD6B;AAEjCP,IAAAA,IAAI,EAAE;AAF2B,GAAD,CAFwB;AAAA;AAAA,QAEnDQ,KAFmD;AAAA,QAE5CC,QAF4C;;AAO1DxB,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIyB,EAAE,GAAGN,KAAK,CAACO,QAAN,CAAeC,QAAf,CAAwBC,KAAxB,CAA8B,GAA9B,EAAmC,CAAnC,CAAT,CADc,CACkC;;AAChD,QAAIH,EAAE,IAAIA,EAAE,CAACI,MAAH,GAAY,CAAtB,EAAyB;AACvBlB,MAAAA,QAAQ,CAACmB,GAAT,iBAAsBL,EAAtB,GAA4BM,IAA5B,CAAkCC,QAAD,IAAc;AAC7C,YAAIA,QAAQ,CAACC,IAAb,EAAmB;AACjBT,UAAAA,QAAQ,CAACQ,QAAQ,CAACC,IAAV,CAAR;AACD;AACF,OAJD;AAKD;AACF,GATQ,EASN,EATM,CAAT;;AAWA,QAAMC,IAAI,GAAG,MAAM;AACjB,WAAO,uCAAuCC,OAAvC,CAA+C,OAA/C,EAAwD,UAAUC,CAAV,EAAa;AAC1E,UAAIC,CAAC,GAAGC,IAAI,CAACC,MAAL,KAAgB,EAAhB,GAAqB,CAA7B;AAAA,UAAgCC,CAAC,GAAGJ,CAAC,IAAI,GAAL,GAAWC,CAAX,GAAgBA,CAAC,GAAG,GAAJ,GAAU,GAA9D;AACA,aAAOG,CAAC,CAACC,QAAF,CAAW,EAAX,CAAP;AACD,KAHM,CAAP;AAID,GALD;;AAOA,QAAMC,YAAY,GAAG,UAAUF,CAAV,EAAa;AAChC,QAAIjB,KAAK,CAACD,EAAV,EAAc;AACZ,UAAIqB,WAAW,GAAG;AAChBrB,QAAAA,EAAE,EAAEC,KAAK,CAACD,EADM;AAEhBP,QAAAA,IAAI,EAAEyB,CAAC,CAACzB;AAFQ,OAAlB;AAKA6B,MAAAA,MAAM,CAACD,WAAD,CAAN,CAAoBZ,IAApB,CAAyBM,CAAC,IAAI;AAC5BpC,QAAAA,KAAK,CAAC4C,OAAN,CAAc,gCAAd;AACAC,QAAAA,UAAU,CAAC,MAAM;AACf3B,UAAAA,KAAK,CAAC4B,OAAN,CAAcC,IAAd,CAAmB,eAAnB;AACD,SAFS,EAEP,IAFO,CAAV;AAGD,OALD,EAKGC,KALH,CAKSC,CAAC,IAAI,CAAG,CALjB;AAMD,KAZD,MAYO;AACLC,MAAAA,OAAO,CAAC;AACN7B,QAAAA,EAAE,EAAEY,IAAI,EADF;AAENnB,QAAAA,IAAI,EAAEyB,CAAC,CAACzB;AAFF,OAAD,CAAP,CAGGgB,IAHH,CAGQM,CAAC,IAAI;AACXpC,QAAAA,KAAK,CAAC4C,OAAN,CAAc,gCAAd;AACAC,QAAAA,UAAU,CAAC,MAAM;AACf3B,UAAAA,KAAK,CAAC4B,OAAN,CAAcC,IAAd,CAAmB,eAAnB;AACD,SAFS,EAEP,IAFO,CAAV;AAGD,OARD,EAQGC,KARH,CAQSC,CAAC,IAAI,CAAG,CARjB;AASD;AAEF,GAzBD;;AA2BA,QAAMN,MAAM,GAAG,MAAOJ,CAAP,IAAa7B,QAAQ,CAACyC,GAAT,CAAa,OAAb,EAAsBZ,CAAC,CAAClB,EAAxB,EAA4BkB,CAA5B,CAA5B;;AAEA,QAAMW,OAAO,GAAG,MAAOX,CAAP,IAAa7B,QAAQ,CAAC0C,IAAT,CAAc,OAAd,EAAuBb,CAAvB,CAA7B;;AAEA,sBACE;AAAK,IAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,cAAD;AAAgB,IAAA,SAAS,EAAE,IAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,GAAD;AAAK,IAAA,EAAE,EAAE,EAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD;AACE,IAAA,KAAK,EAAC,cADR;AAEE,IAAA,OAAO,eACL;AAAM,MAAA,QAAQ,EAAGU,CAAD,IAAOR,YAAY,CAACQ,CAAD,CAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI3B,KAAK,iBACL,oBAAC,MAAD;AACE,MAAA,kBAAkB,EAAE,IADtB;AAEE,MAAA,aAAa,EAAEA,KAFjB;AAGE,MAAA,QAAQ,EAAEmB,YAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAKG,CAAC;AAAEY,MAAAA,MAAF;AAAUlC,MAAAA,MAAV;AAAkBmC,MAAAA,OAAlB;AAA2BlC,MAAAA,YAA3B;AAAyCqB,MAAAA;AAAzC,KAAD,kBACC,oBAAC,IAAD;AAAM,MAAA,QAAQ,EAAGQ,CAAD,IAAOA,CAAC,CAACM,cAAF,EAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,GAAD;AAAK,MAAA,KAAK,EAAE;AAAEC,QAAAA,YAAY,EAAE;AAAhB,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGlC,KAAK,IAAIA,KAAK,CAACD,EAAf,iBACC,oBAAC,GAAD;AAAK,MAAA,EAAE,EAAE,CAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADF,eAEE,oBAAC,IAAD,CAAM,OAAN;AACE,MAAA,IAAI,EAAC,MADP;AAEE,MAAA,IAAI,EAAC,IAFP;AAGE,MAAA,WAAW,EAAC,WAHd;AAIE,MAAA,KAAK,EAAEF,MAAM,CAACE,EAJhB;AAKE,MAAA,QAAQ,EAAED,YALZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CAFJ,eAaE,oBAAC,GAAD;AAAK,MAAA,EAAE,EAAE,CAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAEE,oBAAC,IAAD,CAAM,OAAN;AACE,MAAA,IAAI,EAAC,MADP;AAEE,MAAA,IAAI,EAAC,MAFP;AAGE,MAAA,WAAW,EAAC,MAHd;AAIE,MAAA,KAAK,EAAED,MAAM,CAACL,IAJhB;AAKE,MAAA,QAAQ,EAAEM,YALZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CAbF,eAwBE,oBAAC,GAAD;AAAK,MAAA,EAAE,EAAE,EAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,IAAD;AACE,MAAA,EAAE,iBADJ;AAEE,MAAA,SAAS,EAAC,+BAFZ;AAGE,MAAA,KAAK,EAAC,QAHR;AAIE,MAAA,KAAK,EAAE;AAAEqC,QAAAA,WAAW,EAAE;AAAf,OAJT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eASE,oBAAC,MAAD;AACE,MAAA,OAAO,EAAC,SADV;AAEE,MAAA,SAAS,EAAC,MAFZ;AAGE,MAAA,OAAO,EAAEhB,YAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBATF,CAxBF,CADF,CANJ,CAFJ,CAHJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,CAFF,CADF;AAuED","sourcesContent":["import React, { useRef, useState, useEffect } from \"react\";\nimport { toast } from \"react-toastify\";\nimport 'react-toastify/dist/ReactToastify.css';\nimport { ToastContainer } from \"react-toastify\";\nimport { Link } from \"react-router-dom\";\nimport {\n  Row,\n  Col,\n  Form,\n} from \"react-bootstrap\";\nimport * as Yup from \"yup\";\nimport { Formik } from \"formik\";\n\nimport { Card } from \"components/Card/Card.jsx\";\nimport Button from \"components/CustomButton/CustomButton.jsx\";\n\nimport BaseCrud from \"../../crud/base.crud\";\n\nconst schema = Yup.object().shape({\n  Nome: Yup.string().required(\"Campo obrigatório\"),\n});\n\nexport default function Amigos(props, values, handleChange) {\n\n  const [amigo, setAmigo] = useState({\n    Id: \"\",\n    Nome: \"\"\n  });\n\n  useEffect(() => {\n    let id = props.location.pathname.split(\"/\")[3]; // Configurar React Route\n    if (id && id.length > 0) {\n      BaseCrud.get(`amigo/${id}`).then((response) => {\n        if (response.data) {\n          setAmigo(response.data);\n        }\n      });\n    }\n  }, []);\n\n  const Guid = () => {\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n      var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);\n      return v.toString(16);\n    });\n  }\n\n  const handleSubmit = function (v) {\n    if (amigo.Id) {\n      let changeAmigo = {\n        Id: amigo.Id,\n        Nome: v.Nome\n      };\n\n      editar(changeAmigo).then(r => {\n        toast.success(\"Operação realizada com sucesso\");\n        setTimeout(() => {\n          props.history.push('/admin/amigos')\n        }, 3000);\n      }).catch(e => { });\n    } else {\n      incluir({\n        Id: Guid(),\n        Nome: v.Nome\n      }).then(r => {\n        toast.success(\"Operação realizada com sucesso\");\n        setTimeout(() => {\n          props.history.push('/admin/amigos')\n        }, 3000);\n      }).catch(e => { });\n    }\n\n  };\n\n  const editar = async (v) => BaseCrud.put(\"Amigo\", v.Id, v);\n\n  const incluir = async (v) => BaseCrud.post(\"Amigo\", v);\n\n  return (\n    <div className=\"content\">\n      <ToastContainer autoClose={5000} />\n      <Row>\n        <Col md={12}>\n          <Card\n            title=\"Editar Amigo\"\n            content={\n              <form onSubmit={(e) => handleSubmit(e)}>\n                {(amigo && (\n                  <Formik\n                    enableReinitialize={true}\n                    initialValues={amigo}\n                    onSubmit={handleSubmit}\n                  >\n                    {({ errors, values, touched, handleChange, handleSubmit }) => (\n                      <Form onSubmit={(e) => e.preventDefault()}>\n                        <Row style={{ marginBottom: 10 }}>\n                          {amigo && amigo.Id && (\n                            <Col md={3}>\n                              <Form.Label>Código</Form.Label>\n                              <Form.Control\n                                type=\"text\"\n                                name=\"Id\"\n                                placeholder=\"Código\"\n                                value={values.Id}\n                                onChange={handleChange}\n                              />\n                            </Col>\n                          )}\n                          <Col md={3}>\n                            <Form.Label>Nome</Form.Label>\n                            <Form.Control\n                              type=\"text\"\n                              name=\"Nome\"\n                              placeholder=\"Nome\"\n                              value={values.Nome}\n                              onChange={handleChange}\n                            />\n                          </Col>\n\n                          <Col md={12}>\n                            <Link\n                              to={`/admin/amigos`}\n                              className=\"btn btn-clean btn-md btn-icon\"\n                              title=\"Voltar\"\n                              style={{ marginRight: 5 }}\n                            >\n                              Voltar\n                            </Link>\n                            <Button\n                              variant=\"primary\"\n                              className=\"ml-2\"\n                              onClick={handleSubmit}>\n                              Salvar\n                            </Button>\n                          </Col>\n                        </Row>\n                      </Form>\n\n                    )}\n\n                  </Formik>\n                ))}\n              </form>\n            }\n          />\n        </Col>\n      </Row>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}